<mat-form-field
  appearance="standard"
  class="users-table__filter"
>
  <mat-label> Filter </mat-label>
  <input 
    matInput 
    (keyup)="applyFilter($event)" 
    placeholder="Don White" 
    #input
    data-testid="filter"
  >
</mat-form-field>

<table 
  mat-table 
  [dataSource]="users" 
  class="users-table mat-elevation-z8"
  matSort
>
  <ng-container matColumnDef="photo">
    <th 
      mat-header-cell 
      *matHeaderCellDef
    > Photo </th>
    <td 
      class="users-table__photo" 
      mat-cell 
      *matCellDef="let user"
    >
      <img [src]="user.picture.thumbnail" />
    </td>
  </ng-container>

  <ng-container matColumnDef="full_name">
    <th 
      mat-header-cell 
      *matHeaderCellDef
      mat-sort-header
    > Name </th>
    <td 
      mat-cell 
      *matCellDef="let user"
    > {{ user.full_name }}</td>
  </ng-container>

  <ng-container matColumnDef="email">
    <th 
      mat-header-cell 
      *matHeaderCellDef
      mat-sort-header
    > Email </th>
    <td 
      mat-cell 
      *matCellDef="let user"
    > {{user.email}} </td>
  </ng-container>

  <ng-container matColumnDef="phone">
    <th 
      mat-header-cell 
      *matHeaderCellDef
      mat-sort-header
    > Phone </th>
    <td 
      mat-cell 
      *matCellDef="let user"
    > {{user.phone}} </td>
  </ng-container>

  <ng-container matColumnDef="rating">
    <th 
      mat-header-cell 
      *matHeaderCellDef
      mat-sort-header
    > Rating </th>
    <td
      mat-cell 
      *matCellDef="let user"
    > {{user.rating}} </td>
  </ng-container>

  <tr 
    mat-header-row 
    *matHeaderRowDef="displayedColumns"
  ></tr>

  <tr
    [class.bg]="user.rating <= -3"
    class="users-table__row"
    mat-row 
    *matRowDef="let row; columns: displayedColumns; let user;" 
    (click)="handleClick(user)"
  ></tr>
</table>

<mat-paginator 
  [pageSizeOptions]="[25, 50, 100]"
  [pageSize]="25"
  aria-label="Select page of users"
></mat-paginator>